/**
 * Created by xxh on 2016-5-18.
 */
(function(e){var l,d,o,i,m,g,b=0.4,c,a,k,h,f=false,n=false;e(document.body).on("touchstart",function(p){if(!p.touches||p.touches.length===0){return}l=p.touches[0].pageX,o=p.touches[0].pageY;m=new Date()*1}).on("touchmove",function(p){h=e(p.target).closest(".swipe_content");d=p.touches[0].pageX,i=p.touches[0].pageY;g=new Date()*1;if(Math.abs((i-o)/(d-l))>0.2){f=true;return true}else{f=false}p.stopImmediatePropagation();e(".swipe_content").animate({"-webkit-transform":"translate3d(0,0,0)"},200,"ease");a=h.next(".swipe_hidden").width();k=l+a;if((d-l)<-10&&!f){if(h&&h.css("-webkit-transform")=="translate3d("+(-a)+"px, 0px, 0px)"){n=true}h.on("touchmove",j).one("touchend",function(r){r.stopImmediatePropagation();try{h.unbind("touchmove",j)}catch(q){console.log("unbind没有对象")}g=new Date()*1;if((g-m)<250){b=0.2}if(1-(Math.abs(c)/a)>b){a=0}h.animate({"-webkit-transform":"translate3d("+(-a)+"px,0,0)"},400,"ease");h=null;n=true})}}).on("touchend",function(p){p.stopImmediatePropagation();if(h&&(h.css("-webkit-transform")!="translate3d("+(-a)+"px, 0px, 0px)"||h.css("-webkit-transform")!="translate3d(0px, 0px, 0px)")){h.animate({"-webkit-transform":"translate3d(0,0,0)"},200,"ease")}h=null;a=null;n=false});var j=function(p){p.stopImmediatePropagation();var q=-(k-p.touches[0].pageX);if(q<(-a)){q="-"+a}else{if(q>0){q=0}}c=q;h.css("-webkit-transform","translate3d("+q+"px,0,0)")}})(Zepto);