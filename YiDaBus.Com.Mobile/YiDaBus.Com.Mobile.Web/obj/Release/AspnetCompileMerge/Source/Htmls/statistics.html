<!DOCTYPE html PUBLIC "-//WAPFORUM//DTD XHTML Mobile 1.0//EN" "http://www.wapforum.org/DTD/xhtml-mobile10.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" class="ui-mobile">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>指房向-运营数据监控表</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="Keywords" content="租房从未如此简单" />
    
    <meta name="Description" content="租房从未如此简单" />
    <link type="text/css" rel="stylesheet" href="/Content/css/skin.css" />
    <link type="text/css" rel="stylesheet" href="/Content/css/pink001.css" />
    <script type="text/javascript" src="/Content/js/jquery-1.9.1.min.js"></script>
    <script src="/Content/js/framework-ui.js"></script>
    <style>
        .gridPanel th {
            background:#8fbccd;
            color:white;
        }
        .gridPanel th,.gridPanel td{
            padding:10px 0;
        }
        #nowTime {
            padding:10px 0;
        }
        .title {
            text-align: center;
            border-bottom: 1px solid #999;
            padding-bottom: 9px;
        }
    </style>
</head>
<body>
    <div id="areascontent" ng-app="myApp" ng-controller="myCtrl" style="margin-top:20px;padding:0 15px;">
        <h3 class="title">指房向运营数据监控表</h3>
        <p id="nowTime"><b>当前时间：</b><span></span></p>
        <div class="rows" style="padding-bottom:20px;">
            <div class="gridPanel">
                <table border="1" cellspacing="0" cellpadding="0" class="border-table" width="100%">
                    <thead>
                        <tr>
                            <th >房源数据统计</th>
                            <th>当天</th>
                            <th>总计</th>
                        </tr>
                    </thead>
                    <tbody id="tbody1">
                        <tr>
                            <td style="text-align: center;">发布房源数</td>
                            <td style="text-align: center;">{{todayAddHouse}}</td>
                            <td style="text-align: center;">{{addHouse}}</td>
                        </tr>
                        <tr>
                            <td style="text-align: center;">删除房源数</td>
                            <td style="text-align: center;">{{todayDeletedHouse}}</td>
                            <td style="text-align: center;">{{deletedHouse}}</td>
                        </tr>
                        <tr>
                            <td style="text-align: center;">锁定房源数</td>
                            <td style="text-align: center;">{{todayLockedHoust}}</td>
                            <td style="text-align: center;">{{lockedHoust}}</td>
                        </tr>
                        <tr>
                            <td style="text-align: center;">上架房源数</td>
                            <td style="text-align: center;">{{todayOnlineHouse}}</td>
                            <td style="text-align: center;">{{onlineHouse}}</td>
                        </tr>
                        <tr>
                            <td style="text-align: center;">出租房源数</td>
                            <td style="text-align: center;">{{todaySaledHouse}}</td>
                            <td style="text-align: center;">{{saledHouse}}</td>
                        </tr>
                    </tbody>
                   
                </table>
            </div>
        </div>
        <div class="rows" style="">
            <div class="gridPanel">
                <table border="1" cellspacing="0" cellpadding="0" class="border-table" width="100%">
                    <thead>
                        <tr>
                            <th>订单数据统计</th>
                            <th>当天</th>
                            <th>总计</th>
                        </tr>
                    </thead>
                    <tbody id="tbody2">
                        <tr>
                            <td style="text-align: center;">已支付需求单</td>
                            <td style="text-align: center;">{{todayPayed}}</td>
                            <td style="text-align: center;">{{payed}}</td>
                        </tr>
                        <tr>
                            <td style="text-align: center;">未支付需求单</td>
                            <td style="text-align: center;">{{todayNoPay}}</td>
                            <td style="text-align: center;">{{noPay}}</td>
                        </tr>
                        <tr>
                            <td style="text-align: center;">意向单数</td>
                            <td style="text-align: center;">{{todayOrder}}</td>
                            <td style="text-align: center;">{{order}}</td>
                        </tr>
                        <tr>
                            <td style="text-align: center;">成交订单数</td>
                            <td style="text-align: center;">{{todayDeal}}</td>
                            <td style="text-align: center;">{{deal}}</td>
                        </tr>
                        <tr>
                            <td style="text-align: center;">合同数</td>
                            <td style="text-align: center;">{{todayContract}}</td>
                            <td style="text-align: center;">{{contract}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <script src="//cdn.bootcss.com/vue/2.2.6/vue.js"></script>
    <script>
        setInterval(function () {
            var date = new Date();
            var M = date.getMonth() + 1;
            var D = date.getDate();
            var H = date.getHours();
            var Min = date.getMinutes();
            var S = date.getSeconds();
            function getDouble(a) {
                if (a >= 0 && a <= 9) {
                    return a = "0" + a;
                } else {
                    return a;
                }
            }
            var nowTime = date.getFullYear() + '-' + getDouble(M) + '-' + getDouble(D) + ' ' + getDouble(H) + ':' + getDouble(Min) + ':' + getDouble(S);
            console.log(nowTime)
            $("#nowTime span").text(nowTime)
        },1000)
    $.ajax({
        url: globalKey.InterfaceDomain + "api/common/Count",
        dataType: "json",
        type: "post",
        async: false,
        success: function (data) {
            var vm1 = new Vue({
                el: '#tbody1',
                data: data.data.houseCount
            });
            var vm2 = new Vue({
                el: '#tbody2',
                data: data.data.orderCount
            })
        }
    });

    </script>

    
</body>

</html>


